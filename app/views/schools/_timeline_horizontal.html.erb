<div class="wrap timeline_menu">
	<div class="timeline">
		<div class="months">
			<div class="month">Oct <%= timeline_last_year %></div>
			<div class="month">Nov</div>
			<div class="month">Dec</div>
			<div class="month">Jan <%= timeline_next_year %></div>
			<div class="month">Feb</div>
			<div class="month">Mar</div>
			<div class="month">Apr</div>
			<div class="month">May</div>
			<div class="month">Jun</div>
			<div class="month">Jul</div>
			<div class="month">Aug</div>
			<div class="month last">Sep</div>
		</div>

		<div class="day_indicator" style="left:<%= timeline_percent(Date.today) %>;">
			<span class="text">Today</span>
		</div>

		<div class="event_indicator"  style="left:15%;"><span class='icon-DBPS-Dev-Assets-SRG-38'></span></div>
		<div class="event_indicator"  style="left:18%;"><span class='icon_horizontal-event'></span></div>
		<div class="event_indicator"  style="left:46%;"><span class='icon_horizontal-event'></span></div>
		<div class="event_indicator"  style="left:52%;"><span class='icon-DBPS-Dev-Assets-SRG-38'></span></div>
		<div class="event_indicator"  style="left:92%;"><span class='icon_horizontal-event'></span></div>

		<div id="registration_contaner">
			<div id="registration_btn">
				Registration
			</div>
			<div class="clr"></div>
      <div class='register_timeline_contaner' style='display:none; '>
				<div class='event_zone' id='regis_1' style='left:5%;'>
				<div class='event'  >
					<div class='box_info' style='display:none;'>
						<div class='triangle'></div>
						<div class='date_event'>Jan 6-10</div>
						<div class='txt_event'>Last names A–I<br>K, 6, 9 New-Student Registration</div>
					</div>
				</div>
			</div>
			<div class='event_zone' id='regis_2' style='left:15%;'>
				<div class='event'  >
					<div class='box_info' style='display:none;'>
						<div class='triangle'></div>
						<div class='date_event'>Jan 13-17</div>
						<div class='txt_event'>Last names J–Q<br>K, 6, 9 New-Student Registration</div>
					</div>
				</div>
			</div>
			<div class='event_zone' id='regis_3' style='left:26%;'>
				<div class='event'  >
					<div class='box_info' style='display:none;'>
						<div class='triangle'></div>
						<div class='date_event'>Jan 21–24</div>
						<div class='txt_event'>Last names R–Z<br>K, 6, 9 New-Student Registration</div>
					</div>
				</div>
			</div>
			<div class='event_zone' id='regis_4' style='left:35%;'>
				<div class='event'  >
					<div class='box_info' style='display:none;'>
						<div class='triangle'></div>
						<div class='date_event'>Jan 27–31</div>
						<div class='txt_event'>All Last Names<br>K, 6, 9 New-Student Registration</div>
					</div>
				</div>
			</div>
			</div>
  	</div>
	</div>

	<!--  navigation menu desktop and mobile -->
	<section class="logo_header">
		<nav class="menu_nav">
			<span id="menu_nav_mobile" aria-hidden="true" class="icon-DBPS-Dev-Assets-SRG-25"></span>
		</nav>
		<div class="logo_discover" >
			<a href="/" class="no-decoration"><span aria-hidden="true" class="icon-DBPS-Dev-Assets-SRG-01"></span></a>
		</div>
		<div id="google_translate_element" class="desktop_tablet" style="float:right; padding-top:71px;"></div><script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
}
</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

		<div class="clr"></div>
	</section>
	<!-- end navigation menu desktop and mobile -->
	<div class="clr"></div>
</div>
<!-- script for timeline and registration -->
<script>

var is_open_menu_mobile= false;

$("#menu_nav_mobile").click(function() {

	if (is_open_menu_mobile) {
		// Close mobile
		is_open_menu_mobile= false;

		$("#menu_items").animate({
			height: "0"
		  }, 200, function() {
			// Animation complete.
			$(this).css("display", "none");
			$(".menu_nav").width("31px");
			$("#menu_nav_mobile").removeClass( "icon-DBPS-Dev-Assets-SRG-07" ).addClass( " icon-DBPS-Dev-Assets-SRG-25" );

		});
	 } else {
		// Open mobile
		$(".menu_nav").width("100%");
		is_open_menu_mobile= true;
		$("#menu_items").css("display", "block");
		$('#menu_items').css('height', 'auto');
		var autoHeight = $('#menu_items').height();
		$("#menu_items").css("height", "0");

		$("#menu_items").animate({
			height: autoHeight
		  }, 200, function() {
			$('#menu_items').css('height', 'auto');
			$("#menu_nav_mobile").removeClass( "icon-DBPS-Dev-Assets-SRG-25" ).addClass( " icon-DBPS-Dev-Assets-SRG-07" );
		});
	 }
});


function initializeRegistrationTimeline() {

	// Ex. (2 1/3) months approximate
	$("#registration_contaner").width(Math.floor((2.333*$(".months .month").outerWidth())));

	// Ex. 2 days approximate
	$("#regis_1").width(5*($(".months .month").outerWidth()/30));
	$("#regis_2").width(5*($(".months .month").outerWidth()/30));
	$("#regis_3").width(4*($(".months .month").outerWidth()/30));
	$("#regis_4").width(5*($(".months .month").outerWidth()/30));
	$("#regis_5").width(4*($(".months .month").outerWidth()/30));
	$("#regis_6").width(37*($(".months .month").outerWidth()/30));


	var arr= jQuery.makeArray($(".months .month"));

	// Set position registration_contaner on 1 January
	// 3 is position January
	var position = $($(".months .month")[3]).position();
	$("#registration_contaner").css("left",position.left)
}


initializeRegistrationTimeline();

window.onresize = function(event) {
	initializeRegistrationTimeline();
	$("#menu_items").css("display", "none");
	$(".menu_nav").width("auto");
	$("#menu_nav_mobile").removeClass( "icon-DBPS-Dev-Assets-SRG-07" ).addClass( " icon-DBPS-Dev-Assets-SRG-25" );
	is_open_menu_mobile= false;
}

$(".event_zone").hover(
	function() {
		// Position the box in the center of the event.
		$(this).find(".box_info").css("left", -( ($(".box_info").outerWidth()/2) - ($(this).width()/2) )+"px");
		$(this).find(".box_info").css("display", "block");
	},
	function () {
		$(this).find(".box_info").css("display", "none");

	}
 );

 /*
var is_open_register_contaner= false;
$("#registration_btn").click(function() {
	 if (is_open_register_contaner) {
		// Close contaner
		is_open_register_contaner= false;
		$(".register_timeline_contaner").css("display", "none");
		$(".wrap.timeline_menu .timeline").stop(true, true).animate({
			height: "80"
		  }, 100, function() {
			// Animation complete.
		  });
	 } else {
		// Open contaner
		$(".wrap.timeline_menu .timeline").stop(true, true).animate({
			height: "175"
		  }, 100, function() {
			// Animation complete.
		  });
		is_open_register_contaner= true;
		$(".register_timeline_contaner").css("display", "block");
	 }

	 return false;
});*/


$(".timeline").hover(
	function() {
		$(".wrap.timeline_menu .timeline").stop(true, true).animate({
			height: "175"
		  }, 100, function() {
			// Animation complete.
		  });
		$(".register_timeline_contaner").css("display", "block");
	},
	function() {
		$(".register_timeline_contaner").css("display", "none");
		$(".wrap.timeline_menu .timeline").stop(true, true).animate({
			height: "80"
		  }, 100, function() {
			// Animation complete.
		  });
	}
);
</script>
