<header>
	<div class="wrap">
		<section class="content_wrap">
			<p class='title'>Discover</p>
			<div class='logo'><a href='javascript:void();'><img src='img/bps-logo.png'/></a></div>
			<div class='clr'></div>
		</section>
	</div>
</header>


<div class="wrap timeline_menu">
	<!-- start timeline -->
	<div class="timeline">
		<div class="months">
			<div class="month">Oct 2013</div>
			<div class="month">Nov</div>
			<div class="month">Dec</div>
			<div class="month">Jan 2014</div>
			<div class="month">Feb</div>
			<div class="month">Mar</div>
			<div class="month">Apr</div>
			<div class="month">May</div>
			<div class="month">Jun</div>
			<div class="month">Jul</div>
			<div class="month">Aug</div>
			<div class="month last">Sep</div>
		</div>	
		
		<div class="day_indicator"  style="left:20%;">
			<span class="text">Today</span>
		</div>
		
		<div class="event_indicator"  style="left:15%;"><span class='icon-DBPS-Dev-Assets-SRG-38'></span></div>
		<div class="event_indicator"  style="left:18%;"><span class='icon_horizontal-event'></span></div>
		<div class="event_indicator"  style="left:46%;"><span class='icon_horizontal-event'></span></div>
		<div class="event_indicator"  style="left:52%;"><span class='icon-DBPS-Dev-Assets-SRG-38'></span></div>
		<div class="event_indicator"  style="left:92%;"><span class='icon_horizontal-event'></span></div>
		
        <div id="registration_contaner">
        	<div id="registration_btn">
            	Registration
            </div>
			<div class="clr"></div>
        	<div class='register_timeline_contaner' style='display:none; '>
				<div class='event_zone' id='regis_1' style='left:0%;'>
					<div class='event'  >
						<div class='box_info' style='display:none;'>
							<div class='triangle'></div>
							<div class='date_event'>Jan 22–25</div>
							<div class='txt_event'>Last names R–Z<br>K, 6, 9 New-Student Registration</div>
							<span>Your registration period</span>
						</div>
					</div>
				</div>
				<div class='event_zone' id='regis_2' style='left:6%;'>
					<div class='event'  >
						<div class='box_info' style='display:none;'>
							<div class='triangle'></div>
							<div class='date_event'>Jan 22–25</div>
							<div class='txt_event'>Last names R–Z<br>K, 6, 9 New-Student Registration</div>
							<span>Your registration period</span>
						</div>
					</div>
				</div>
				<div class='event_zone' id='regis_3' style='left:14%;'>
					<div class='event'  >
						<div class='box_info' style='display:none;'>
							<div class='triangle'></div>
							<div class='date_event'>Jan 22–25</div>
							<div class='txt_event'>Last names R–Z<br>K, 6, 9 New-Student Registration</div>
							<span>Your registration period</span>
						</div>
					</div>
				</div>
				<div class='event_zone' id='regis_4' style='left:22%;'>
					<div class='event your_registration_period'  >
						<div class='box_info' style='display:none;'>
							<div class='triangle'></div>
							<div class='date_event'>Jan 22–25</div>
							<div class='txt_event'>Last names R–Z<br>K, 6, 9 New-Student Registration</div>
							<span>Your registration period</span>
						</div>
					</div>
				</div>
				<div class='event_zone' id='regis_5' style='left:30%;'>
					<div class='event'  >
						<div class='box_info' style='display:none;'>
							<div class='triangle'></div>
							<div class='date_event'>Jan 22–25</div>
							<div class='txt_event'>Last names R–Z<br>K, 6, 9 New-Student Registration</div>
							<span>Your registration period</span>
						</div>
					</div>
				</div>
				
				<div class='event_zone' id='regis_6' style='left:45%;'>
					<div class='event'  >
						<div class='box_info' style='display:none;'>
							<div class='triangle'></div>
							<div class='date_event'>Jan 22–25</div>
							<div class='txt_event'>Last names R–Z<br>K, 6, 9 New-Student Registration</div>
							<span>Your registration period</span>
						</div>
					</div>
				</div>

				
			</div>

        </div>
	</div>
	<!-- end timeline -->
	
	<!--  navigation menu desktop and mobile -->
	<section class="content_wrap ">
		<nav class="menu_nav">
            <span id="menu_nav_mobile" aria-hidden="true" class="icon-DBPS-Dev-Assets-SRG-25"></span>
			<ul id="menu_items" class='mobile_only'>
				<li class='first'><a href="#" title="">Discover</a></li>
				<li><a href="#" title="">Register</a></li>
				<li><a href="#" title="">Succeed!</a></li>
				<li class='visit'><a href='http://www.BostonPublicSchools.org'>Visit BostonPublicSchools.org</a></li>
			</ul>
			<ul class='no_mobile'>
				<li class="succeed"><a href="#" title=""><span aria-hidden="true" class="icon-DBPS-Dev-Assets-SRG-05"></span></a></li>
				<li class="register"><a href="#" title=""><span aria-hidden="true" class="icon-DBPS-Dev-Assets-SRG-06"></span></a></li>
			</ul>
		</nav>
		<div class="logo_discover" >
			<span aria-hidden="true" class="icon-DBPS-Dev-Assets-SRG-01"></span>
		</div>
		<div class="clr"></div>
	</section>
	<!-- end navigation menu desktop and mobile -->
	<div class="clr"></div>
</div>

<!-- script for timeline and registration -->
<script>

var is_open_menu_languages_mobile= false;

$(".languages_mobile").click(function() {
		if (is_open_menu_languages_mobile) {
		// Close mobile
		is_open_menu_languages_mobile= false;
		$(".list_languages").css("display", "none");
	 } else {
		// Open mobile
		is_open_menu_languages_mobile= true;
		$(".list_languages").css("display", "block");

	 }
});



var is_open_menu_mobile= false;

$("#menu_nav_mobile").click(function() {

	if (is_open_menu_mobile) {
		// Close mobile
		is_open_menu_mobile= false;
		
		$("#menu_items").animate({
			height: "0"
		  }, 200, function() {
			// Animation complete.
			$(this).css("display", "none");
			$(".menu_nav").width("31px");
			$("#menu_nav_mobile").removeClass( "icon-DBPS-Dev-Assets-SRG-07" ).addClass( " icon-DBPS-Dev-Assets-SRG-25" );
		
		});
	 } else {
		// Open mobile
		$(".menu_nav").width("100%");	
		is_open_menu_mobile= true;
		$("#menu_items").css("display", "block");
		$('#menu_items').css('height', 'auto');
		var autoHeight = $('#menu_items').height();
		$("#menu_items").css("height", "0");
		
		$("#menu_items").animate({
			height: autoHeight
		  }, 200, function() {
			$('#menu_items').css('height', 'auto');
			$("#menu_nav_mobile").removeClass( "icon-DBPS-Dev-Assets-SRG-25" ).addClass( " icon-DBPS-Dev-Assets-SRG-07" );
		});
	 }
});


function initializeRegistrationTimeline() {


	// Ex. (2 1/3) months approximate
	$("#registration_contaner").width(Math.floor((2.333*$(".months .month").outerWidth())));

	
	
	
	// Ex. 2 days approximate
	$("#regis_1").width(2*($(".months .month").outerWidth()/30));

	// Ex. 4 days approximate
	$("#regis_2").width(4*($(".months .month").outerWidth()/30));
	$("#regis_3").width(4*($(".months .month").outerWidth()/30));
	$("#regis_4").width(4*($(".months .month").outerWidth()/30));
	$("#regis_5").width(4*($(".months .month").outerWidth()/30));


	$("#regis_6").width(37*($(".months .month").outerWidth()/30));
	

	var arr= jQuery.makeArray($(".months .month"));
	console.log($($(".months .month")[3]).width());

	
	// Set position registration_contaner on 1 January
	// 3 is position January
	var position = $($(".months .month")[3]).position();
	$("#registration_contaner").css("left",position.left)
}


initializeRegistrationTimeline();

window.onresize = function(event) {
	initializeRegistrationTimeline();
	$("#menu_items").css("display", "none");
	$(".menu_nav").width("auto");
	$("#menu_nav_mobile").removeClass( "icon-DBPS-Dev-Assets-SRG-07" ).addClass( " icon-DBPS-Dev-Assets-SRG-25" );
	is_open_menu_mobile= false;
}

$(".event_zone").hover(
	function() {
		// Position the box in the center of the event.
		$(this).find(".box_info").css("left", -( ($(".box_info").outerWidth()/2) - ($(this).width()/2) )+"px");
		$(this).find(".box_info").css("display", "block");
	},
	function () {
		$(this).find(".box_info").css("display", "none");
		
	}
 );

 /*
var is_open_register_contaner= false;
$("#registration_btn").click(function() {
	 if (is_open_register_contaner) {
		// Close contaner
		is_open_register_contaner= false;
		$(".register_timeline_contaner").css("display", "none");
		$(".wrap.timeline_menu .timeline").stop(true, true).animate({
			height: "80"
		  }, 100, function() {
			// Animation complete.
		  });
	 } else {
		// Open contaner
		$(".wrap.timeline_menu .timeline").stop(true, true).animate({
			height: "175"
		  }, 100, function() {
			// Animation complete.
		  });
		is_open_register_contaner= true;
		$(".register_timeline_contaner").css("display", "block");
	 }
	 
	 return false;
});*/


$(".timeline").hover(
	function() {
		$(".wrap.timeline_menu .timeline").stop(true, true).animate({
			height: "175"
		  }, 100, function() {
			// Animation complete.
		  });
		$(".register_timeline_contaner").css("display", "block");
	}, 
	function() {
		$(".register_timeline_contaner").css("display", "none");
		$(".wrap.timeline_menu .timeline").stop(true, true).animate({
			height: "80"
		  }, 100, function() {
			// Animation complete.
		  });
	}
);
</script>
<!-- END script for timeline and registration -->

<div class="wrap no_mobile">
	<!--languages selection and his list-->
	<ul class='languages'>
		<li>
			<div class='current_language'><span data-icon="&#xe003;" aria-hidden="true"></span>English</div>
			<div class='clr'></div>
			<ul >
				<li><a href='#' class='language'>Español</a></li>
				<li><a href='#' class='language'>Kreyòl Ayisyen</a></li>
				<li><a href='#' class='language'>??</a></li>
				<li><a href='#' class='language'>Português</a></li>
				<li><a href='#' class='language'>Kriolu Kabuverdianu</a></li>
				<li><a href='#' class='language'>Ti?ng Vi?t</a></li>
				<li><a href='#' class='language'>Français</a></li>
				<li><a href='#' class='language'><span data-icon="&#xe003;" aria-hidden="true"></span>Other</a></li>
			</ul>
		</li>
	</ul>
<!--END list-->
</div>

<div class="wrap global_map">
	<section class="content_wrap">
			<%= render partial: 'schools/account_tab' %>		
	</section>
	<%= render partial: 'schools/map', locals: {student_schools: @students.first.student_schools, map_controls: true} %>
</div>

<div class="wrap compare_list" id="compare_list">
	<div class="colomn_left">
		<div class="menu_compare_name ">
				<div class="compare">
					Compare your lists:
				</div>
				<div class="clr"></div>
		</div>
		<div class="result">
			<div class="compare_list_number">
				<ul>
					<% @students.collect {|x| x.student_schools.rank(:sort_order)}.safe_transpose.each_with_index do |school_row, row_i| %>
						<li id="number_1">
							<div class="li_frame">
								<div class="no_order line">
									<span class="middle"><span class="number"><%= row_i + 1 %></span></span>
								</div>
							</div>
						</li>
					<% end %>
				</ul>				
			</div>
		</div>
	</div>
	<div  class="result colomn_right">	
		<div class="compare_list_content">
			<!-- ajust the div width when studens are add (to create left and right draggable effect of the school list)  -->	
			<div class="flexible_content" style="width:2000px;">
				<div class="menu_compare_name compare_action">
					<div class="name_list">
						<div class="name_info active" id="name_1">
							<span class="name">Elizabeth <span aria-hidden="true" class="indicator icon-DBPS-Dev-Assets-SRG-08"></span> </span>
							<span class="grade">Grade<br/><span class="number">3</span></span>
							<div class="clr"></div>
						</div>
				        <div class="name_info" id="name_2">
							<span class="name">Tommy <span aria-hidden="true" class="indicator icon-DBPS-Dev-Assets-SRG-08"></span></span>
							<span class="grade">Grade<br/><span class="number">7</span></span>
							<div class="clr"></div>
						</div>
					</div>	
					<div class="add_child" >
						+ Add a child
					</div>
					<div class="clr"></div>
				</div>
				<ul>
					<li id="compare_1">
						<div class="li_frame">
							<div class="school_name line name_1">
								<span class="middle">
			                    	Eliot K-8 
			                     </span>
							</div>
			                <div class="school_name line name_2">
								<span class="middle">
			                        McKay K-8
			                     </span>
							</div>
						</div>
					</li>
			    <li id="compare_2">
						<div class="li_frame">
							<div class="school_name line name_1">
								<span class="middle">
			                    	Eliot K-8 
			                     </span>
							</div>
			        <div class="school_name line name_2">
								<span class="middle">
			                        McKay K-8
			      </span>
							</div>
						</div>
					</li>
			    <li id="compare_3">
						<div class="li_frame">
							<div class="school_name line name_1">
								<span class="middle">
			                    	Eliot K-8 
			                     </span>
							</div>
			                <div class="school_name line name_2">
								<span class="middle">
			                        McKay K-8
			                     </span>
							</div>
						</div>
					</li>
			        <li id="compare_4">
						<div class="li_frame">
							<div class="school_name line name_1">
								<span class="middle">
			                    	Eliot K-8 
			                     </span>
							</div>
			                <div class="school_name line name_2">
								<span class="middle">
			                        McKay K-8
			                     </span>
							</div>
						</div>
					</li>
			        <li id="compare_5">
						<div class="li_frame">
							<div class="school_name line name_1">
								<span class="middle">
			                    	Eliot K-8 
			                     </span>
							</div>
			                <div class="school_name line name_2">
								<span class="middle">
			                        McKay K-8
			                     </span>
							</div>
						</div>
					</li>
			        <li id="compare_6">
						<div class="li_frame">
							<div class="school_name line name_1">
								<span class="middle">
			                    	Eliot K-8 
			                     </span>
							</div>
			                <div class="school_name line name_2">
								<span class="middle">
			                        McKay K-8
			                     </span>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<div class="result">
		<div class="footer_list">
			<div class="footer_left">
				<p style="color:#000;margin-bottom: 1.6em;">Next Steps</p>
				<p>Once your student?s list of schools has been sorted in the order of your choosing, registration begins by submitting the list and visiting a Welcome Center.</p>
				<p style="color:#000;">How to register:</p>
				<p><a href="" title="Submit your list to BPSExpress">Submit your list to BPSExpress</a></p>
				<p><a href="" title="Collect the required documents">Collect the required documents</a></p>
				<p><a href="" title="Plan a visit to a Welcome Center">Plan a visit to a Welcome Center</a></p>
			</div>
			<div class="footer_right">
				<p style="color:#000;margin-bottom: 1.6em;">Need to think it over?</p>
				<p>My lists</p>
				<p><a href="" title="Download">Download</a></p>
				<p><a href="" title="Print">Print</a></p>
				<p><a href="" title="Share via email">Share via email</a></p>
				<p><a href="" title="Save">Save</a></p>
				<br/>
				<p>Account</p>
				<p><a href="" title="Sign Up">Sign Up</a></p>
				<p><a href="" title="Login">Login</a></p>
			</div>
			<div class="clr"></div>
		</div>
		<div class="clr" style="height:1px;"></div>
	</div>
	
