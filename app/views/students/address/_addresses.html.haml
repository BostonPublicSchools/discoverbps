.close_icon
	%span{aria: {hidden: 'true'}, class: 'icon-DBPS-Dev-Assets-SRG-07'}

.content
	= form_tag verify_address_student_path(student), method: :put, remote: true, 'data-type' => 'script' do
		%h3.dialog_title
			Please verify your student's home address:
		%br/

		= hidden_field_tag '[student]street_number', @addresses.first.try(:[], :StreetNum)
		= hidden_field_tag '[student]street_name', @addresses.first.try(:[], :Street).try(:titleize)
		= hidden_field_tag '[student]neighborhood', @addresses.first.try(:[], :SectionOfCity)
		= hidden_field_tag '[student]zipcode', @addresses.first.try(:[], :ZipCode)
		= hidden_field_tag '[student]x_coordinate', @addresses.first.try(:[], :X)
		= hidden_field_tag '[student]y_coordinate', @addresses.first.try(:[], :Y)
		= hidden_field_tag '[student]latitude', @addresses.first.try(:[], :Lat)
		= hidden_field_tag '[student]longitude', @addresses.first.try(:[], :Lng)
		= hidden_field_tag '[student]geo_code', @addresses.first.try(:[], :GeoCode)
		= hidden_field_tag '[student]addressid', @addresses.first.try(:[], :AddressID)

		#address_matches.selection
			- @addresses.each_with_index do |address, index|
				= render partial: 'students/address/address', locals: {address: address, index: index}
		%br/
		.btn
			= submit_tag 'Next', class: 'orange_submit', id: "addresses_next_button"

:javascript
	$('#addresses_next_button').click(function() {
		$('#addresses_next_button').text('Working...');
	});
	$(".close_icon").click(function() {
		$(".dialog_box").fadeOut("fast").removeClass("active");
	});
	$(".dialog_box").click(function(e){
		e.stopPropagation();
	});
	$('#addresses_next_button').click(function() {
		$('#addresses_next_button').prop('value', 'Working...');
	});
